<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bootstrap 101 Template</title>

<!-- Bootstrap -->
<link href="/bootstrap/css/bootstrap.min.css" th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet" />

<link href="/css/custom.css" th:href="@{/css/custom.css}" rel="stylesheet" />

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>


<script src="/amcharts/amcharts.js" th:src="@{/amcharts/amcharts.js}" type="text/javascript"></script>
<script src="/amcharts/pie.js" th:src="@{/amcharts/pie.js}" type="text/javascript"></script>
<script src="/amcharts/serial.js" th:src="@{/amcharts/serial.js}" type="text/javascript"></script>

<script type="text/javascript" th:inline="javascript" th:if="${pieChart!=null and !pieChart.isEmpty()}">
/*<![CDATA[*/
var chart;
var legend;

var pieChart = /*[[${pieChart}]]*/;  

AmCharts.ready(function () {
    // PIE CHART
    chart = new AmCharts.AmPieChart();
    chart.dataProvider = pieChart;
    chart.titleField = "title";
    chart.valueField = "value";
    chart.outlineColor = "#FFFFFF";
    chart.outlineAlpha = 0.8;
    chart.outlineThickness = 2;
   
    // this makes the chart 3D
    chart.depth3D = 15;
    chart.angle = 30;
    
    // WRITE
    chart.write("pieChart");
});
/*]]>*/
</script>

<script type="text/javascript" th:inline="javascript" th:if="${stackedChart!=null and !stackedChart.isEmpty()}">
/*<![CDATA[*/
var chart;
var legend;

var stackedChart = /*[[${stackedChart}]]*/;  

AmCharts.ready(function () {
    var chart = new AmCharts.AmSerialChart();
    chart.dataProvider = stackedChart;
    chart.pathToImages = "/amcharts/images/";
    chart.categoryField = "title";
    chart.dataDateFormat = "DD/MM/YYYY";

    // AXES
    // category
    var categoryAxis = chart.categoryAxis;
    categoryAxis.parseDates = true; // as our data is date-based, we set parseDates to true
    categoryAxis.minPeriod = "DD"; // our data is daily, so we set minPeriod to DD
    categoryAxis.gridAlpha = 0;
    categoryAxis.tickLength = 0;
    categoryAxis.axisAlpha = 0;

    // value
    var valueAxis = new AmCharts.ValueAxis();
    valueAxis.dashLength = 4;
    valueAxis.axisAlpha = 0;
    chart.addValueAxis(valueAxis);


    // FROM GRAPH
    var fromGraph = new AmCharts.AmGraph();
    fromGraph.type = "line";
    fromGraph.valueField = "fromValue";
    fromGraph.lineAlpha = 0;
    fromGraph.showBalloon = false;
    chart.addGraph(fromGraph);

    // TO GRAPH
    var toGraph = new AmCharts.AmGraph();
    toGraph.type = "line";
    toGraph.valueField = "toValue";
    toGraph.lineAlpha = 0;
    toGraph.fillAlphas = 0.2;
    toGraph.fillToGraph = fromGraph;
    toGraph.showBalloon = false;
    chart.addGraph(toGraph);


    // GRAPH
    var graph = new AmCharts.AmGraph();
    graph.type = "line";
    graph.valueField = "value";
    graph.lineColor = "#000000";
    chart.addGraph(graph);

    // CURSOR
    var chartCursor = new AmCharts.ChartCursor();
    chart.addChartCursor(chartCursor);

    chart.creditsPosition = "top-right";

    // WRITE
    chart.write("stackedChart");
});
/*]]>*/
</script>

</head>

<body>


	<div th:include="menu :: menu"></div>

	<div class="container">

		<div class="starter-template">
			<div class="alert alert-warning" th:if="${(stackedChart==null or stackedChart.isEmpty()) and (pieChart==null or pieChart.isEmpty())}">
				No data available
			</div>			
			 <div id="pieChart" style="width: 100%; height: 400px;"></div>
			 <div id="stackedChart" style="width: 100%; height: 400px;"></div>
		</div>

	</div>
	<!-- /.container -->
 
<script src="/bootstrap/js/bootstrap.min.js" th:src="@{/bootstrap/js/bootstrap.min.js}"></script>

</body>
</html>

